<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1.0" />
  <title>æ–åŠå‚³èªª ç´ æè¨ˆç®—æ©Ÿ</title>

  <!-- Tailwind åƒ…ä¾›æœ¬åœ°/æ¸¬è©¦ç”¨ï¼›æ­£å¼å¯æ”¹ç‚ºç·¨è­¯å¾Œ CSS -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700&display=swap" rel="stylesheet" />

  <!-- è‡ªè¨‚æ¨£å¼ -->
  <link rel="stylesheet" href="./css/style.css" type="text/css" />

</head>

<body class="p-4 lg:p-6 compact">
  <div class="w-full max-w-7xl mx-auto">
    <!-- ===== é é¦– ===== -->
    <header class="text-center mb-6">
      <h1 class="text-3xl md:text-4xl font-bold">æ–åŠå‚³èªª ç´ æè¨ˆç®—æ©Ÿ</h1>
    </header>
    
    <!-- è³½å­£é¸é … -->
    <div class="text-center mb-6">
      <label for="season-select" class="mr-2 font-semibold">è³½å­£é¸é …:</label>
      <select id="season-select" class="input-field rounded p-2">
        <option value="s2">S2 é¾ä¹‹åœ‹</option>
        <option value="s1">S1 æ¾¤ä¹‹åœ‹</option>
      </select>
    </div>
    <!-- ===== ç›®æ¨™æ™‚é–“ / ç¾åœ¨æ™‚é–“ ===== -->
    <div class="card rounded-lg p-4 shadow-lg mb-6 w-full">
      <!-- å¤–å±¤å…©æ¬„ï¼Œæ»¿ç‰ˆ -->
      <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
        <!-- å·¦ï¼šç›®æ¨™æ™‚é–“ -->
        <div>
          <h3 class="text-lg font-semibold mb-2">ç›®æ¨™æ™‚é–“</h3>

          <!-- æ©«å‘æ»¿ç‰ˆï¼šselect å›ºå®šå¯¬ï¼Œå³å´ flex-1 -->
          <div class="flex flex-col lg:flex-row lg:items-center gap-3 w-full">
            <!-- ä¸‹æ‹‰ï¼šå›ºå®šå¯¬ -->
            <select id="target-time-preset" class="input-field rounded p-2 w-[180px]"></select>

            <!-- å”¯è®€æ™‚é–“æ¢ï¼šåƒæ»¿å‰©é¤˜å¯¬åº¦ -->
            <div id="target-time-display"
                class="flex-1 text-center bg-gray-900/50 p-2 rounded h-[42px] flex items-center justify-center text-[#e2e8f0]">
              --
            </div>

            <!-- è‡ªè¨‚è¼¸å…¥ï¼šèˆ‡ä¸Šé¢æ™‚é–“æ¢åŒé«˜åŒå¯¬ï¼ˆé è¨­éš±è—ï¼‰ -->
            <input type="datetime-local" id="target-time-custom"
                  class="input-field rounded p-2 h-[42px] flex-1 hidden" />

            <!-- å¯¦éš›é‹ç®—å€¼ -->
            <input type="hidden" id="target-time" />
          </div>
        </div>

        <!-- å³ï¼šç¾åœ¨æ™‚é–“ï¼ˆæ»¿ç‰ˆï¼‰ -->
        <div>
          <h3 class="text-lg font-semibold mb-2">ç¾åœ¨æ™‚é–“</h3>
          <div id="current-time-display"
              class="text-center bg-gray-900/50 p-2 rounded h-[42px] flex items-center justify-center text-[#e2e8f0] w-full">
          </div>
        </div>
      </div>

    </div>

    <!-- åŸåˆä¹‹æ˜Ÿ -->
    <div class="card rounded-lg p-4 shadow-lg mb-4 w-full">  <!-- â† é€™è¡Œ -->
      <h3 class="text-xl font-bold text-center mb-4">åŸåˆä¹‹æ˜Ÿ (ç´¯è¨ˆ)</h3>
      <div id="primordial-star-cumulative" class=""></div> <!-- class å…ˆç•™ç©ºï¼ŒJS æœƒåŠ  -->
    </div>



    <!-- ç›®æ¨™ç­‰ç´šï¼ˆå…±é³´ï¼‰ -->
    <div class="card rounded-lg p-4 shadow-lg mb-4 w-full">  <!-- â† é€™è¡Œ -->
      <h3 class="text-xl font-bold text-center mb-4">ç›®æ¨™ç­‰ç´š (å…±é³´)</h3>
      <div id="target-levels" class=""></div> <!-- class å…ˆç•™ç©ºï¼ŒJS æœƒåŠ  -->
    </div>

    <!-- éºç‰©åˆ†ä½ˆ -->
    <div class="card rounded-lg p-4 shadow-lg mb-6 w-full">  <!-- â† é€™è¡Œ -->
      <h3 class="text-xl font-bold text-center mb-4">
        éºç‰©ç­‰ç´šåˆ†ä½ˆ <span id="relic-total-display" class="text-sm font-normal text-gray-400">(0/20)</span>
      </h3>
      <div id="relic-distribution-inputs" class="grid grid-cols-2 sm:grid-cols-4 md:grid-cols-6 lg:grid-cols-12 gap-4"></div>
    </div>

    <!-- ===== ä¸‰æ¬„ä¸»å…§å®¹ ===== -->
    <div class="grid grid-cols-1 lg:grid-cols-3 gap-4"><!-- gap-6 â†’ gap-4 -->
      <!-- å·¦ï¼šè§’è‰² + æŠ€èƒ½ -->
      <div class="lg:max-h-[75vh] lg:flex lg:flex-col lg:gap-4"><!-- gap-6 â†’ gap-4 -->
        <!-- è§’è‰²èˆ‡åºŠï¼ˆåŠ é•·ï¼‰ -->
      <div class="card rounded-xl p-0 shadow-lg lg:flex-[1.1] flex flex-col min-h-0">
        <h2 class="text-2xl font-bold border-b sticky top-0 z-10 px-4 py-2 m-0 bg-white/90 backdrop-blur border-[#cde5e8]">
          è§’è‰²ç¶“é©—
        </h2>
        <div class="overflow-y-auto custom-scrollbar p-4 min-h-0">
          <div id="char-bed-inputs" class="space-y-3"></div>
        </div>
        <div class="flex flex-wrap items-center justify-center gap-4 mb-3">
          <label for="notify-time-select" class="font-semibold">å‡ç´šé€šçŸ¥æå‰æ™‚é–“:</label>
          <select id="notify-time-select" class="input-field rounded p-2">
            <option value="min0">å‡ç´šæ™‚</option>
            <option value="min1">1 åˆ†é˜</option>
            <option value="min2">2 åˆ†é˜</option>
            <option value="min3" selected>3 åˆ†é˜</option>
            <option value="min5">5 åˆ†é˜</option>
          </select>
        </div>
        <div class="flex flex-wrap items-center justify-center gap-4 mb-3">
          <button id="enable-levelup-notify-btn"
            class="bg-gray-600 hover:bg-gray-500 text-white font-bold py-2 px-4 rounded-lg text-xs">
            å•Ÿç”¨å‡ç´šé€šçŸ¥
          </button>
          <!-- <button id="enable-targetlevel-notify-btn"
            class="bg-gray-600 hover:bg-gray-500 text-white font-bold py-2 px-4 rounded-lg text-xs">
            å•Ÿç”¨å‡ç›®æ¨™ç´šé€šçŸ¥
          </button> -->
          <button id="disable-notify-btn"
            class="bg-gray-600 hover:bg-gray-500 text-white font-bold py-2 px-4 rounded-lg text-xs">
            æ¸…é™¤å‡ç´šé€šçŸ¥
          </button>
        </div>
      </div>
        

        <div class="card rounded-xl p-0 shadow-lg lg:flex-1 flex flex-col min-h-0">
          <h2 class="text-2xl font-bold border-b sticky top-0 z-10 px-4 py-2 m-0 bg-white/90 backdrop-blur border-[#cde5e8]">
            æŠ€èƒ½ç­‰ç´š
          </h2>
          <div class="overflow-y-auto custom-scrollbar p-4 min-h-0">
            <div id="skill-inputs" class="space-y-4"></div>
          </div>
        </div>
      </div>

    <!-- ä¸­ï¼šè§’è‰² + å¹»ç¸ + å°æ¨è»Š -->
    <div class="lg:max-h-[75vh] lg:flex lg:flex-col lg:gap-4">
      <div class="card rounded-xl p-0 shadow-lg lg:flex-1 flex flex-col min-h-0">
          <h2 class="text-2xl font-bold border-b sticky top-0 z-10 px-4 py-2 m-0 bg-white/90 backdrop-blur border-[#cde5e8]">
            è£å‚™ç­‰ç´š
          </h2>
          <div class="overflow-y-auto custom-scrollbar p-4 min-h-0"><!-- p-6 â†’ p-4 -->
            <div id="equip-inputs" class="space-y-4"></div><!-- ä¿æŒ -->
          </div>
        </div>

      <!-- å¹»ç¸ç­‰ç´šï¼ˆç¸®çŸ­ï¼‰ -->
      <div class="card rounded-xl p-0 shadow-lg lg:flex-[0.5] flex flex-col min-h-0">
        <h2 class="text-2xl font-bold border-b sticky top-0 z-10 px-4 py-2 m-0 bg-white/90 backdrop-blur border-[#cde5e8]">
          å¹»ç¸ç­‰ç´š
        </h2>
        <div class="overflow-y-auto custom-scrollbar p-4 min-h-0">
          <div id="pet-inputs" class="space-y-3"></div>
        </div>
      </div>

      <!-- å°æ¨è»Šï¼ˆå¾®èª¿ï¼‰ -->
      <div class="card rounded-xl p-0 shadow-lg lg:flex-[1.2] flex flex-col min-h-0">
        <h2 class="text-2xl font-bold border-b sticky top-0 z-10 px-4 py-2 m-0 bg-white/90 backdrop-blur border-[#cde5e8]">
          å°æ¨è»Š
        </h2>
        <div class="overflow-y-auto custom-scrollbar p-4 min-h-0">
          <div id="production-inputs" class="space-y-4 mb-4"></div>
        </div>
      </div>
    </div>


    <!-- å³ï¼šç´ æè³‡è¨Š + è¨ˆç®—ç¸½è¦½ï¼ˆç­‰é«˜å°é½Šï¼‰ -->
    <div class="lg:max-h-[75vh] lg:flex lg:flex-col lg:gap-4">
      <!-- ç´ æè³‡è¨Šï¼ˆç¸®çŸ­ï¼‰ -->
      <div class="card rounded-xl p-0 shadow-lg lg:flex-[0.75] flex flex-col min-h-0">
        <h2 class="text-2xl font-bold border-b pb-3 sticky top-0 z-10 px-6 py-3 m-0 bg-white/90 backdrop-blur border-[#cde5e8]">
          ç›®å‰æŒæœ‰ç´ æ
        </h2>
        <div class="overflow-y-auto custom-scrollbar p-4 min-h-0">
          <div id="owned-materials" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-1 gap-3"></div>
        </div>
      </div>

      <!-- è¨ˆç®—ç¸½è¦½ï¼ˆæ‹‰é•·ï¼‰ -->
      <div class="card rounded-xl p-0 shadow-lg lg:flex-[1.25] flex flex-col min-h-0">
        <h2 class="text-2xl font-bold border-b pb-3 sticky top-0 z-10 px-6 py-3 m-0 bg-white/90 backdrop-blur border-[#cde5e8]">
          è¨ˆç®—ç¸½è¦½
        </h2>
        <div class="overflow-y-auto custom-scrollbar p-4 min-h-0">
          <div id="results" class="space-y-3 pt-2"></div>
        </div>
      </div>
    </div>




    <!-- ===== åº•éƒ¨ï¼šåŠŸèƒ½æŒ‰éˆ• ===== -->
    <footer class="col-span-full w-full mt-10">
      <div class="max-w-7xl mx-auto px-4
                  flex flex-col items-center justify-center text-center text-gray-500 text-sm">
        <div class="flex flex-wrap items-center justify-center gap-4 mb-3">
          <button id="clear-local-data-btn"
            class="bg-red-800 hover:bg-red-700 text-white font-bold py-2 px-4 rounded-lg text-xs">
            æ¸…é™¤æœ¬åœ°ç´€éŒ„
          </button>
        </div>
        <div class="mb-2">
          ç›®å‰æœ¬ç«™ç¸½ç€è¦½äººæ¬¡ï¼š <span id="site-total">â€”</span> ï½œ æœ¬é ç€è¦½äººæ¬¡ï¼š <span id="page-views">â€”</span>ã€‚
        </div>
        <p class="max-w-2xl leading-relaxed">
          æœ¬è¨ˆç®—æ©Ÿç‚ºéå®˜æ–¹å·¥å…·ï¼Œåƒ…ä¾›ç©å®¶åƒè€ƒä½¿ç”¨ã€‚ç¶²é è£½ä½œï¼šè²äºã€‚è³‡æ–™ä¾†æºï¼šãªãªã‚„ã€å…­æ­²ã€ç¾½èŸoã€å¤œå¥ˆå–µã€‚
        </p>
        <p class="mt-2">
          GitHub Repoï¼š
          <a href="https://github.com/sophie8909/sxstx_calculator"> 
            https://github.com/sophie8909/sxstx_calculator
          </a>
        </p>
      </div>
    </footer>


  </div>
  <!-- ğŸ”¢ CountAPIï¼šå…¨ç«™ & å–®é ï¼ˆè·¯å¾‘ï¼‰ -->
  <script>
    (async () => {
      // å‘½åç©ºé–“ï¼šå»ºè­°èˆ‡ repo åä¸€è‡´ï¼Œé¿å…èˆ‡ä»–ç«™è¡çª
      const NS = 'sxstx_calculator';
      // å…¨ç«™ç¸½è¨ˆç”¨å›ºå®š key
      const SITE_KEY = 'site_total';
      // å–®é ï¼šç”¨ pathname ç•¶ keyï¼ˆæŠŠéå­—å…ƒè½‰åº•ç·šï¼Œé¿å… API è§£æå•é¡Œï¼‰
      const PAGE_KEY = location.pathname.replace(/\W/g, '_') || 'index';

      const siteEl = document.getElementById('site-total');
      const pageEl = document.getElementById('page-views');

      const hit = async (key) => {
        const url = `https://api.countapi.xyz/hit/${NS}/${key}`;
        const r = await fetch(url, { cache: 'no-store' });
        if (!r.ok) throw new Error('CountAPI error ' + r.status);
        return r.json();
      };

      try {
        // å…¨ç«™ +1 ä¸¦é¡¯ç¤º
        const s = await hit(SITE_KEY);
        siteEl.textContent = Number(s.value || 0).toLocaleString();
      } catch (e) {
        console.error(e); siteEl.textContent = 'â€”';
      }

      try {
        // æœ¬é  +1 ä¸¦é¡¯ç¤º
        const p = await hit(PAGE_KEY);
        pageEl.textContent = Number(p.value || 0).toLocaleString();
      } catch (e) {
        console.error(e); pageEl.textContent = 'â€”';
      }
    })();
  </script>
  <!-- å…¥å£é»ï¼ˆæ§åˆ¶å™¨ï¼‰ -->
  <script type="module" src="./js/controller.js"></script>
</body>

</html>
